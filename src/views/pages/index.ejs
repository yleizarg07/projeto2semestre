<%- include('./partials/head') %>
<%- include('./partials/header') %>

<main class="container">

  <h1 class="titulo-principal">Ãšltimos Posts</h1>

  <% if (!posts || posts.length === 0) { %>
      <p>Nenhum post encontrado.</p>

  <% } else { %>

      <div class="lista-posts">

          <% posts.forEach(post => { %>
              <article class="post-card">

                  <h2 class="post-titulo">
                      <a href="/posts/<%= post.id %>"><%= post.titulo %></a>
                  </h2>


                  <% if (post.imagem) { %>
                      <img src="<%= post.imagem %>" alt="Imagem do post" class="post-imagem">
                  <% } %>

                  <p class="post-conteudo"><%= post.conteudo.substring(0, 150) %>...</p>

                  <p class="post-meta">
                      Publicado por 
                      <strong><%= post.autor || "Autor desconhecido" %></strong> 
                      em <%= post.created_at.toLocaleDateString('pt-BR') %>
                  </p>

                  <a class="btn-leia-mais" href="/posts/<%= post.id %>">Ler mais</a>

              </article>
          <% }) %>

      </div>

  <% } %>

</main>

<%- include('./partials/footer') %>

</body>
</html>
