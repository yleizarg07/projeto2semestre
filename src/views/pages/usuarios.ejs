<%- include('../partials/head') %>
<%- include('../partials/header') %>

<div class="container mt-5" style="max-width:850px;">

    <div class="text-center mb-4">
        <h2 class="fw-bold">Lista de Usuários</h2>
        <p class="text-muted">Veja todos os usuários cadastrados no sistema</p>
        <hr>
    </div>

    <% if (typeof usuarios !== 'undefined' && usuarios.length) { %>

        <div class="list-group shadow-sm rounded-3">
        <% usuarios.forEach(u => { %>
            <a href="/usuarios/perfil/<%= u.idUsuario %>" 
               class="list-group-item list-group-item-action py-3">

                <div class="d-flex align-items-center">
                    <img src="/images/perfil.jpg" 
                         width="55" 
                         height="55"
                         class="rounded-circle me-3 border">

                    <div>
                        <strong class="fs-5"><%= u.nome %></strong><br>
                        <span class="text-muted">@<%= u.nome_usuario %></span>
                    </div>

                    <div class="ms-auto">
                        <span class="badge bg-primary">Ver perfil</span>
                    </div>
                </div>

            </a>
        <% }) %>
        </div>

    <% } else { %>

        <div class="alert alert-warning text-center mt-4">
            Nenhum usuário encontrado.
        </div>

    <% } %>

</div>

<%- include('../partials/footer') %>
